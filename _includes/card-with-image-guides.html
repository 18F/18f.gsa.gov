{% comment %}
This partial outputs a card with image and text. The whole card is a clickable link. 

The expected arguments for this partial are:
link_url - the url the card will link to (href)
image_path - the path to the image, note that the partial will prepend the site baseurl
text_content - the text to be displayed next to the image

Optional arguments:
card_color - if set to "dark" will make the card background the primary-dark color. Otherwise will default to a white background.
image_alt_text - will be the alt text for the image. If this argument isn’t provided alt text will be set to “” and the image will be ignored by screen readers.
image_side - if set to "right" will place the image on the right side of the card. Otherwise the image will default to the left side.
image_size - if set to "md" will set the max image size to 8 units. Otherwise the image will default to a max size of 6 units.
{% endcomment %}

<div class="card-with-image-guides display-flex flex-column radius-lg minh-card-lg">

  <!--The card only attempts to render a hero image (and the background color) if it has one assigned, which right now is only reserved for guides labeled "important"-->
  <!--Using a few inline styles here to force the hero div to respect the border radii of the card, but there might be a more elegant way of doing that-->
  {% if include.hero_url %}
  <div class="padding-4 display-flex flex-column bg-primary-dark hero-container" style="border-top-left-radius:inherit; border-top-right-radius: inherit;">
    <img class="flex-align-self-center" src="{{ site.baseurl }}{{include.hero_url}}">
  </div>
  {% endif %}

  <div class="padding-4 display-flex flex-column">
    <div class="margin-bottom-2 display-flex flex-align-center {%- if include.image_side == "right" %} flex-justify {% endif %} height-full">

      {% capture card_image %}
      <img src="{{ site.baseurl }}{{include.image_path}}" 
          class="{%- if include.image_size == "md" -%}maxw-8 height-8 {%- else -%} maxw-6 height-6 {%- endif %} margin-top-0 {%- unless include.image_side == "right" %} margin-right-2 {% endunless %}"
          alt="{{- include.image_alt_text -}}"
      >
      {% endcapture %}

      {% capture card_text %}
      <a href="{{include.link_url}}" class="text-no-underline"><h3 class="text-bold margin-y-0">{{ include.text_content }}</h3></a>
      {% endcapture %}

    {% if include.image_side == "right" %}
      {{ card_text }}
      {{ card_image }}
    {% else %}
      {{ card_image }}
      {{ card_text }}
    {% endif %}

    </div>
  
    <p class="font-sans-md margin-y-0 text-no-underline">{{ include.text_descrip }}</p>
    <a href="{{include.link_url}}" class="text-bold flex-align-end">Read <span class="text-lowercase">{{ include.text_content }}</span> guide</a>  </div>
</div>
